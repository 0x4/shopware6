paths:
  - ./src/Core/
exclude_files:
  - .*test.*
  - .*Definition.php
  - .*Event.php
  - .*DemodataCommand.php

layers:
  - name: Touchpoint
    collectors:
      - type: bool
        must:
          - type: className
            regex: Shopware\\Touchpoint\\
        must_not:
          - type: className
            regex: Shopware\\Framework\\Context
          - type: className
            regex: Shopware\\Checkout\\CustomerContext
          - type: className
            regex: Shopware\\Touchpoint\\Language\\Struct\\LanguageBasicStruct
          - type: className
            regex: Shopware\\Touchpoint\\Language\\Collection\\LanguageBasicCollection
          - type: className
            regex: Shopware\\Touchpoint\\Context\\Struct\\ContextPriceStruct
    collectors:
      - type: className
        regex: Shopware\\Touchpoint\\
  - name: Checkout
    collectors:
      - type: className
        regex: Shopware\\Checkout\\
  - name: Content
    collectors:
      - type: className
        regex: Shopware\\Content\\
  - name: Framework
    collectors:
      - type: className
        regex: Shopware\\Framework\\
  - name: Profiling
    collectors:
      - type: className
        regex: Shopware\\Profiling\\
  - name: System
    collectors:
      - type: className
        regex: Shopware\\System\\
ruleset:
  Application:
    - Framework
    - Content
    - Checkout
  Checkout:
    - Framework
    - Content # todo change this
    - System
  Content:
    - Framework
    - Checkout # todo change this
    - System
  Framework:
  Profiling:
    - Framework
    - Touchpoint
    - Checkout
    - Content
    - Framework
    - Profiling
    - System
  System:
    - Framework